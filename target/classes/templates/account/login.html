<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">

<head th:replace="layout/header :: html_head">
    <title>Login Page</title>

</head>
<body>

<!-- Navigation-->
<nav th:replace="layout/navbar-carosel :: navbar"/>

<svg style="display: none;" xmlns="http://www.w3.org/2000/svg">
    <symbol fill="currentColor" id="exclamation-triangle-fill" viewBox="0 0 16 16">
        <path d="M8.982 1.566a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566zM8 5c.535 0 .954.462.9.995l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995A.905.905 0 0 1 8 5zm.002 6a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"/>
    </symbol>
</svg>
<div class='khanhlq'>
    <div class="container">
        <div class="row">
            <div class=" col-lg-10 col-xl-9 mx-auto">
                <div class="card flex-row my-4 border-0 shadow rounded-3 overflow-hidden">
                    <div class="card-img-left d-none d-md-flex">

                    </div>
                    <div class="card-body p-4 p-sm-5">
                        <h5 class="card-title text-center mb-5 fw-light fs-2">Đăng nhập</h5>
                        <form action="#" class="needs-validation" method="post" novalidate
                              th:action="@{/account/login}">
                            <div class="alert alert-danger alert-dismissible fade show mb-5"
                                 role="alert" th:if="${session.message != null}">
                                <svg aria-label="Danger:" class="bi flex-shrink-0 me-2" height="24" role="img"
                                     width="24">
                                    <use xlink:href="#exclamation-triangle-fill"/>
                                </svg>
                                <strong>Lỗi!</strong> Đăng nhập không hợp lệ.
                                <button aria-label="Close" class="btn-close" data-bs-dismiss="alert"
                                        type="button"></button>
                            </div>
                            <div class="form-floating mb-3 mt-3">
                                <input autofocus class="form-control" id="floatingInputUsername" name="username"
                                       placeholder="myusername" required type="text">
                                <label for="floatingInputUsername">Tên đăng nhập</label>
                                <div class="invalid-feedback">
                                    Vui lòng nhập tên đăng nhập.
                                </div>
                            </div>
                            <hr>
                            <div class="form-floating mb-3 mt-3">
                                <input class="form-control" id="floatingPassword" name="password" placeholder="Password"
                                       required="" type="password">
                                <i class="bi bi-eye-slash position-absolute fs-5" id="togglePassword"
                                   style="left: 90%; top: 25%"></i>
                                <label for="floatingPassword">Mật khẩu</label>
                                <div class="invalid-feedback">
                                    Vui lòng nhập mật khẩu.
                                </div>
                            </div>

                            <div class="form-check mb-3">
                                <input class="form-check-input" name="remember" type="checkbox" value="1">
                                <label class="form-check-label">
                                    Ghi nhớ tài khoản
                                </label>
                            </div>

                            <div class="d-grid mb-2">
                                <button class="btn btn-lg btn-primary btn-login fw-bold text-uppercase" type="submit">
                                    Đăng nhập
                                </button>
                            </div>
                            <a class="d-block text-center mt-2 small" href="/account/register">Chưa có tài khoản? / Đăng
                                ký</a>
                            <hr class="my-4">
                        </form>
                        <div class="d-grid mb-2">
                            <a class="btn btn-lg btn-outline-dark" href="https://accounts.google.com/o/oauth2/auth?scope=email&redirect_uri=http://localhost:8080/account/login-google&response_type=code
                                    &client_id=125535847840-egvv780661383nkf3m0jqrh834mgij6d.apps.googleusercontent.com&approval_prompt=force"
                               role="button" style="text-transform:none">
                                <img alt="Google sign-in"
                                     src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/53/Google_%22G%22_Logo.svg/512px-Google_%22G%22_Logo.svg.png"
                                     style="margin-bottom:3px; margin-right:5px"
                                     width="20px"/>
                                Login with Google
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

</body>

</html>

<script>
(function () {
    "use strict";
    // Fetch all the forms we want to apply custom Bootstrap validation styles to
    var forms = document.querySelectorAll(".needs-validation");
    // Loop over them and prevent submission
    Array.prototype.slice.call(forms).forEach(function (form) {
      form.addEventListener(
        "submit",
        function (event) {
          if (!form.checkValidity()) {
            event.preventDefault();
            event.stopPropagation();
          }
          form.classList.add("was-validated");
        },
        false
      );
    });
  })();

  const togglePassword = document.querySelector("#togglePassword");
  const password = document.querySelector("#floatingPassword");
  togglePassword.addEventListener("click", function (e) {
    // toggle the type attribute
    const type =
      password.getAttribute("type") === "password" ? "text" : "password";
    password.setAttribute("type", type);
    // toggle the eye slash icon
    this.classList.toggle("bi-eye");
  });


</script>